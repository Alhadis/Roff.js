<!DOCTYPE html>
<html lang="en-AU">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="initial-scale=1, minimum-scale=1" />
<link rel="stylesheet" type="text/css" href="./tty.css" />
<title>TTYViewer demo</title>
</head>


<body>
	
	<div id="frame"></div>
	<div id="notice" hidden><strong></strong></div>
	
	<script type="module">

		// Unrelated garnish
		notice.addEventListener("click", () => {
			notice.hidden = true;
		});


		// Demo-related
		import {
			ManPageLoader,
			TTYViewer,
		} from "../../../lib/index.mjs";
		
		const loader = new ManPageLoader();
		const viewer = new TTYViewer();
		document.getElementById("frame").appendChild(viewer.element);
		
		console.dir({loader, viewer});
		loader.load("groff_char")
			.then(async data => {
				data = await loader.format(data, "tty");
				viewer.render(data);
			})
			.catch(err => console.error(err));
	</script>
</body>
</html>
